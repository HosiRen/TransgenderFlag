<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				padding: 0;
				margin: 0;
			}
		</style>
		<script src="js/jquery-3.7.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
		<script src="js/size.js"></script>
		<script src="js/element.js"></script>
		<script src="js/insertElement.js"></script>
		<script>
			$(function() {
				var elementGroup = '.blue, .pink, .white'
				var divHeight = windowSize('height') / 5
				var divWidth = windowSize('width')
				var elementGroup2 = ['.blue', '.pink1', '.white', '.pink2', '.blue2']
				
				$(elementGroup).height(divHeight)
				
				// 设置基本css样式
				$('.blue').css({
					'background': '#5bcefa',
					'position': 'absolute'
				})
				
				$('.pink').css({
					'background': '#f5a8b8',
					'position': 'absolute',
				})
				
				$('.white').css({
					'background': 'white',
					'position': 'absolute'
				})
				
				// 设置每个插入元素的页面绝对位置
				for (let i in elementGroup2) {
					$(elementGroup2[i]).offset({
						top: divHeight * i
					})
				}
				
				// 动画时间序列
				$('.blue').animate({
					'width': divWidth
				}, 1500, 'easeInOutQuint')

				setTimeout(function () {
					$('.pink').css({
						'left': divWidth
					})
					$('.pink').animate({
						'left': '0',
						'width': divWidth
					}, 1500, 'easeInOutQuint')
				}, 300)

				setTimeout(function () {
					$('.white').animate({
						'width': divWidth
					}, 1500, 'easeInOutQuint')
				}, 600)
				
				setTimeout(function () {
					$('body').css({
						'background': 'aqua'
					})
				}, 1800)

				setTimeout(function () {
					$('.blue').animate({
						'left': divWidth,
						'width': 0
					}, 1500, 'easeInOutQuint')
				
					setTimeout(function () {
						$('.pink').animate({
							'right': divWidth,
							'width': '0'
						}, 1500, 'easeInOutQuint')
					}, 300)
				
					setTimeout(function () {
						$('.white').animate({
							'left': divWidth,
							'width': 0
						}, 1500, 'easeInOutQuint')
					}, 500)
					
					// 卸磨杀驴，以免影响动画元素下方的主要元素正常排版和绘制
					setTimeout(function () {
						$(elementGroup).remove()
					}, 2000)
				}, 1800)
			})
		</script>
	</head>
	<body>
	</body>
</html>